I"'Á<p><strong>Tabla de contenido</strong></p>

<ul>
  <li><a href="## DescripciÃ³n del proyecto">DescripciÃ³n del proyecto</a></li>
  <li><a href="## Preparar la base de datos con Docker">Preparar la base de datos con Docker</a></li>
  <li><a href="## Modelo Entidad RelaciÃ³n">Modelo Entidad RelaciÃ³n</a></li>
  <li><a href="## Estructura de archivos">Estructura de archivos</a></li>
  <li><a href="## ConfiguraciÃ³n de base de datos">ConfiguraciÃ³n de base de datos</a></li>
  <li><a href="## Modelo">Modelo</a></li>
  <li><a href="## El acceso a datos con el patron DAO (Data Access Object)">El acceso a datos con el patron DAO (Data Access Object)</a></li>
  <li><a href="## El servicio">El servicio</a></li>
  <li><a href="## El controlador">El controlador</a></li>
</ul>

<h2 id="descripciÃ³n-del-proyecto">DescripciÃ³n del proyecto</h2>
<p>En esta ocaciÃ³n crearemos una REST API con Hibernate MySQL</p>

<ul>
  <li>Spring Boot : v1.5.18.RELEASE</li>
  <li>Hibernate : v5.0.12</li>
  <li>JDK : v1.8</li>
  <li>Mysql : v5.7</li>
</ul>

<h2 id="preparar-la-base-de-datos-con-docker">Preparar la base de datos con Docker</h2>

<p>Para la base de datos vamos a utilizar un contenedor que he creado en mi repositorio personal que puedes ver <a href="https://cloud.docker.com/u/saidmlx/repository/docker/saidmlx/mysql-5-courses">aqui</a></p>

<h3 id="ejecutar-la-imagen-saidmlxmysql-5-courses">Ejecutar la imagen <em>saidmlx/mysql-5-courses</em></h3>

<p>Donde:</p>
<blockquote>
  <p>-p <strong>33060</strong>:3306<br />
Indicamos que el puerto a exponer sera el <em>33060</em></p>
</blockquote>

<blockquote>
  <p>name <strong>mysql-db</strong><br />
Indicamos que la imagen se creara como <strong><em>mysql-db</em></strong></p>
</blockquote>

<blockquote>
  <p>-e MYSQL_ROOT_PASSWORD=<strong>secret</strong><br />
Indicamos que la contraseÃ±a para <strong><em>root</em></strong> sera <strong><em>secret</em></strong></p>
</blockquote>

<blockquote>
  <p>-e MYSQL_DATABASE=<strong>courses</strong><br />
    Indicamos que cree la base de datos con nombre <strong><em>courses</em></strong></p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">-p</span> 33060:3306 <span class="nt">--name</span> mysql-db <span class="nt">-e</span> <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>secret <span class="nt">-e</span> <span class="nv">MYSQL_DATABASE</span><span class="o">=</span>courses saidmlx/mysql-5-courses 
</code></pre></div></div>
<h3 id="entrar-en-modo-interactivo">Entrar en modo interactivo</h3>
<p>Con el siguiente comando entramos de forma interactiva al contenedor y ejecutamos mysql</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker <span class="nb">exec</span> <span class="nt">-it</span> mysql-db mysql <span class="nt">-p</span>
Enter password:
Welcome to the MySQL monitor.  Commands end with <span class="p">;</span> or <span class="se">\g</span><span class="nb">.</span>
Your MySQL connection <span class="nb">id </span>is 2
Server version: 5.7.24 MySQL Community Server <span class="o">(</span>GPL<span class="o">)</span>

Copyright <span class="o">(</span>c<span class="o">)</span> 2000, 2018, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type <span class="s1">'help;'</span> or <span class="s1">'\h'</span> <span class="k">for </span>help. Type <span class="s1">'\c'</span> to clear the current input statement.

mysql&gt; use courses<span class="p">;</span>
Reading table information <span class="k">for </span>completion of table and column names
You can turn off this feature to get a quicker startup with <span class="nt">-A</span>

Database changed
mysql&gt; show tables<span class="p">;</span>
+----------------------+
| Tables_in_courses    |
+----------------------+
| course               |
| social_media         |
| teacher              |
| teacher_social_media |
+----------------------+
4 rows <span class="k">in </span><span class="nb">set</span> <span class="o">(</span>0.00 sec<span class="o">)</span>

mysql&gt;
</code></pre></div></div>
<h3 id="cargar-el-script-en-tu-mysql-local">Cargar el script en tu MySQL Local</h3>
<p>Si aun le tienes miedo a Docker puedes cargar el siguiente escript de base de datos <strong><em>database.sql</em></strong> in you local MySQL 5</p>

<p>Solo recuerda que debe ser la version 5 de lo contrario puede causarte problemas</p>

<h2 id="modelo-entidad-relaciÃ³n">Modelo Entidad RelaciÃ³n</h2>

<p>La acciÃ³n anterior creara una base de datos lista para operar</p>

<p><img src="http://localhost:4000/assets/images/javaSpring/Diagrama-ER.png" alt="" style="width:50%" /></p>

<h2 id="estructura-de-archivos">Estructura de archivos</h2>

<p>La estructura de carpetas y archivos</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">.</span>
â”œâ”€â”€ pom.xml
â””â”€â”€ src
 Â Â  â””â”€â”€ main
 Â Â   Â Â  â””â”€â”€ java
 Â Â   Â Â   Â Â  â””â”€â”€ online
 Â Â   Â Â   Â Â      â””â”€â”€ saidmlx
 Â Â   Â Â   Â Â          â”œâ”€â”€ AppApplication.java
 Â Â   Â Â   Â Â          â””â”€â”€ app
 Â Â   Â Â   Â Â           Â Â  â”œâ”€â”€ configuration
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â””â”€â”€ DataBaseConfiguration.java
 Â Â   Â Â   Â Â           Â Â  â”œâ”€â”€ controller
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â”œâ”€â”€ CourseController.java
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â”œâ”€â”€ MainController.java
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â”œâ”€â”€ SocialMediaController.java
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â””â”€â”€ TeacherController.java
 Â Â   Â Â   Â Â           Â Â  â”œâ”€â”€ dao
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â”œâ”€â”€ AbstractSession.java
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â”œâ”€â”€ CourseDao.java
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â”œâ”€â”€ CourseDaoImp.java
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â”œâ”€â”€ SocialMediaDao.java
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â”œâ”€â”€ SocialMediaDaoImp.java
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â”œâ”€â”€ TeacherDao.java
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â”œâ”€â”€ TeacherDaoImp.java
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â”œâ”€â”€ TeacherSocialMediaDao.java
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â””â”€â”€ TeacherSocialMediaDaoImp.java
 Â Â   Â Â   Â Â           Â Â  â”œâ”€â”€ model
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â”œâ”€â”€ Course.java
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â”œâ”€â”€ SocialMedia.java
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â”œâ”€â”€ Teacher.java
 Â Â   Â Â   Â Â           Â Â  â”‚Â Â  â””â”€â”€ TeacherSocialMedia.java
 Â Â   Â Â   Â Â           Â Â  â”œâ”€â”€ service
 Â Â   Â Â   Â Â           Â Â  â”‚   â”œâ”€â”€ CourseService.java
 Â Â   Â Â   Â Â           Â Â  â”‚   â”œâ”€â”€ CourseServiceImp.java
 Â Â   Â Â   Â Â           Â Â  â”‚   â”œâ”€â”€ SocialMediaService.java
 Â Â   Â Â   Â Â           Â Â  â”‚   â”œâ”€â”€ SocialMediaServiceImp.java
 Â Â   Â Â   Â Â           Â Â  â”‚   â”œâ”€â”€ TeacherService.java
 Â Â   Â Â   Â Â           Â Â  â”‚   â”œâ”€â”€ TeacherServiceImp.java
 Â Â   Â Â   Â Â           Â Â  â”‚   â”œâ”€â”€ TeacherSocialMediaService.java
 Â Â   Â Â   Â Â           Â Â  â”‚   â””â”€â”€ TeacherSocialMediaServiceImp.java
 Â Â   Â Â   Â Â              â””â”€â”€ util
 Â Â   Â Â   Â Â                  â””â”€â”€ CustomErrorType.java
 Â Â   Â Â  
</code></pre></div></div>

<h2 id="configuraciÃ³n-de-base-de-datos">ConfiguraciÃ³n de base de datos</h2>

<p>Dentro del archivo online.saidmlx.app.configuration.<strong><em>DataBaseConfiguration</em></strong></p>

<p>Creamos propiedades adicionales</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="kd">public</span> <span class="nc">Properties</span> <span class="nf">hibernateProperties</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">Properties</span> <span class="n">properties</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Properties</span><span class="o">();</span>
		<span class="n">properties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"hibernate.dialect"</span><span class="o">,</span><span class="s">"org.hibernate.dialect.MySQLDialect"</span><span class="o">);</span>
		<span class="n">properties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"hibernate.show_sql"</span><span class="o">,</span> <span class="s">"true"</span><span class="o">);</span>
		<span class="k">return</span> <span class="n">properties</span><span class="o">;</span>
	<span class="o">}</span>
</code></pre></div></div>

<p>Definimos la fuente de datos donde indicamos tolos los datos de la base de datos</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Bean</span>
<span class="kd">public</span> <span class="nc">DataSource</span> <span class="nf">dataSource</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">DriverManagerDataSource</span> <span class="n">dataSource</span><span class="o">=</span> <span class="k">new</span> <span class="nc">DriverManagerDataSource</span><span class="o">();</span>
    <span class="n">dataSource</span><span class="o">.</span><span class="na">setDriverClassName</span><span class="o">(</span><span class="s">"com.mysql.jdbc.Driver"</span><span class="o">);</span>
    <span class="n">dataSource</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">"root"</span><span class="o">);</span>
    <span class="n">dataSource</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="s">"secret"</span><span class="o">);</span>
    <span class="n">dataSource</span><span class="o">.</span><span class="na">setUrl</span><span class="o">(</span><span class="s">"jdbc:mysql://localhost:33060/courses?autoReconnect=true&amp;useSSL=false"</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">dataSource</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Creamos el Session factory e indicamos que donde tiene que buscar los paquetes es <strong><em>online.saidmlx.app.model</em></strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Bean</span>
<span class="kd">public</span> <span class="nc">LocalSessionFactoryBean</span> <span class="nf">sessionFactory</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">LocalSessionFactoryBean</span> <span class="n">localSessionFactoryBean</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LocalSessionFactoryBean</span><span class="o">();</span>
    <span class="n">localSessionFactoryBean</span><span class="o">.</span><span class="na">setDataSource</span><span class="o">(</span><span class="n">dataSource</span><span class="o">());</span>
    <span class="n">localSessionFactoryBean</span><span class="o">.</span><span class="na">setPackagesToScan</span><span class="o">(</span><span class="s">"online.saidmlx.app.model"</span><span class="o">);</span>
    <span class="n">localSessionFactoryBean</span><span class="o">.</span><span class="na">setHibernateProperties</span><span class="o">(</span><span class="n">hibernateProperties</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">localSessionFactoryBean</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Definimos el administrador de transacciones</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Bean</span>
<span class="nd">@Autowired</span>
<span class="kd">public</span> <span class="nc">HibernateTransactionManager</span> <span class="nf">transactionManager</span> <span class="o">()</span> <span class="o">{</span>
    <span class="nc">HibernateTransactionManager</span> <span class="n">hibernateTransactionManager</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HibernateTransactionManager</span><span class="o">();</span>
    <span class="n">hibernateTransactionManager</span><span class="o">.</span><span class="na">setSessionFactory</span><span class="o">(</span><span class="n">sessionFactory</span><span class="o">().</span><span class="na">getObject</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">hibernateTransactionManager</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="modelo">Modelo</h2>

<p>Todo parte del modelo y aqui tenemos cuatro clases que modelaran el acceso a datos</p>

<h3 id="cursos">Cursos</h3>

<p>online.saidmlx.app.model.<strong>Course</strong></p>

<p>DeficiciÃ³n de la entidad</p>
<ul>
  <li><strong>@Entity</strong> indicamos que va ser una clase de tipo entidad</li>
  <li><strong>@Table(name=â€courseâ€)</strong> aqui conectamos esta clase con la tabla de base de datos llamada <strong><em>course</em></strong></li>
  <li><strong>@Column(name=â€****â€œ)</strong> para cada columna de la tabla se crea una propiedad dentro de la clase</li>
  <li><strong>@Id</strong> en caso de que la columna sea una PRIMARY KEY</li>
  <li><strong>@GeneratedValue(strategy=GenerationType.IDENTITY)</strong> en caso de que el ID se necesite generar de forma automatica</li>
</ul>

<p>Relaciones 
Un curso es impartido por un profesor pero un profesor puede dar varios cursos por lo cual la relacion en de muchos a uno y eso se define con:</p>

<ul>
  <li><strong>@ManyToOne( fetch=FetchType.EAGER)</strong> indicamos que la relaciÃ³n va de muchos a uno con acceso inmediato(Eager)</li>
  <li><strong>@JoinColumn(name=â€id_teacherâ€)</strong> indicamos que la columna por la cual uniremos los profesores sera <em>*id_teacher*</em></li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="nd">@Table</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"course"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Course</span> <span class="kd">implements</span> <span class="nc">Serializable</span> <span class="o">{</span>

	<span class="nd">@Id</span>
	<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"id_course"</span><span class="o">)</span>
	<span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span><span class="o">=</span><span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">Long</span> <span class="n">idCourse</span><span class="o">;</span>
	
	<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"name"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
	
	<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"themes"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">themes</span><span class="o">;</span>
	
	<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"project"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">project</span><span class="o">;</span>
	
	<span class="nd">@ManyToOne</span><span class="o">(</span> <span class="n">fetch</span><span class="o">=</span><span class="nc">FetchType</span><span class="o">.</span><span class="na">EAGER</span><span class="o">)</span>
	<span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"id_teacher"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">Teacher</span> <span class="n">teacher</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="profesores">Profesores</h3>

<p>online.saidmlx.app.model.<strong>Teacher</strong></p>

<p>DeficiciÃ³n de la entidad</p>

<ul>
  <li><strong>@Entity</strong> indicamos que va ser una clase de tipo entidad</li>
  <li><strong>@Table(name=â€teacherâ€)</strong> aqui conectamos esta clase con la tabla de base de datos llamada <strong><em>course</em></strong></li>
  <li><strong>@Column(name=â€****â€œ)</strong> para cada columna de la tabla se crea una propiedad dentro de la clase</li>
  <li><strong>@Id</strong> en caso de que la columna sea una PRIMARY KEY</li>
  <li><strong>@GeneratedValue(strategy=GenerationType.IDENTITY)</strong> en caso de que el ID se necesite generar de forma automatica</li>
</ul>

<p>Relaciones</p>

<ul>
  <li><strong>@OneToMany(cascade=CascadeType.ALL, mappedBy=â€teacherâ€)</strong></li>
  <li><strong>@JsonIgnore</strong></li>
  <li><strong>@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)</strong></li>
  <li><strong>@JoinColumn(name=â€id_teacherâ€)</strong></li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="nd">@Table</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"teacher"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Teacher</span> <span class="kd">implements</span> <span class="nc">Serializable</span> <span class="o">{</span>

	<span class="nd">@Id</span>
	<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"id_teacher"</span><span class="o">)</span>
	<span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span><span class="o">=</span><span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">Long</span> <span class="n">idTeacher</span><span class="o">;</span>
	
	<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"name"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
	
	<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"avatar"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">avatar</span><span class="o">;</span>
	
	<span class="nd">@OneToMany</span><span class="o">(</span><span class="n">cascade</span><span class="o">=</span><span class="nc">CascadeType</span><span class="o">.</span><span class="na">ALL</span><span class="o">,</span> <span class="n">mappedBy</span><span class="o">=</span><span class="s">"teacher"</span><span class="o">)</span>
	<span class="nd">@JsonIgnore</span>
	<span class="kd">private</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Course</span><span class="o">&gt;</span> <span class="n">courses</span><span class="o">;</span>

	<span class="nd">@OneToMany</span><span class="o">(</span><span class="n">fetch</span> <span class="o">=</span> <span class="nc">FetchType</span><span class="o">.</span><span class="na">EAGER</span><span class="o">,</span> <span class="n">cascade</span> <span class="o">=</span> <span class="nc">CascadeType</span><span class="o">.</span><span class="na">ALL</span><span class="o">)</span>
	<span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"id_teacher"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">TeacherSocialMedia</span><span class="o">&gt;</span> <span class="n">teacherSocialMedia</span><span class="o">;</span>
	
<span class="o">}</span>

</code></pre></div></div>

<p>###Â Social Media</p>

<p>online.saidmlx.app.model.<strong>SocialMedia</strong></p>

<p>DeficiciÃ³n de la entidad</p>

<ul>
  <li><strong>@Entity</strong></li>
  <li><strong>@Table(name=â€social_mediaâ€)</strong></li>
  <li><strong>@Id</strong></li>
  <li><strong>@Column(name=â€***â€œ)</strong></li>
  <li><strong>@GeneratedValue(strategy=GenerationType.IDENTITY)</strong></li>
</ul>

<p>Relaciones</p>

<ul>
  <li><strong>@OneToMany</strong></li>
  <li><strong>@JoinColumn(name=â€id_social_mediaâ€)</strong></li>
  <li><strong>@JsonIgnore</strong></li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="nd">@Table</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"social_media"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SocialMedia</span> <span class="kd">implements</span> <span class="nc">Serializable</span> <span class="o">{</span>
	
	<span class="nd">@Id</span>
	<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"id_social_media"</span><span class="o">)</span>
	<span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span><span class="o">=</span><span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">Long</span> <span class="n">idSocialmedia</span><span class="o">;</span>
	
	<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"name"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
	
	<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"icon"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">icon</span><span class="o">;</span>
	
	
	<span class="nd">@OneToMany</span>
	<span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"id_social_media"</span><span class="o">)</span>
	<span class="nd">@JsonIgnore</span>
	<span class="kd">private</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">TeacherSocialMedia</span><span class="o">&gt;</span> <span class="n">teacherSocialMedia</span><span class="o">;</span> 
<span class="o">}</span>
</code></pre></div></div>

<h3 id="teacher-social-media">Teacher Social Media</h3>

<p>online.saidmlx.app.model.<strong>TeacherSocialMedia</strong></p>

<p>DeficiciÃ³n de la entidad</p>

<ul>
  <li><strong>@Entity</strong></li>
  <li><strong>@Table(name=â€teacher_social_mediaâ€)</strong></li>
  <li><strong>@Id</strong></li>
  <li><strong>@Column(name=â€***â€œ)</strong></li>
  <li><strong>@GeneratedValue(strategy=GenerationType.IDENTITY)</strong></li>
</ul>

<p>Relaciones</p>

<ul>
  <li><strong>@ManyToOne(fetch=FetchType.EAGER)</strong></li>
  <li><strong>@JoinColumn(name=â€id_social_mediaâ€)</strong></li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="nd">@Table</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"teacher_social_media"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TeacherSocialMedia</span> <span class="kd">implements</span> <span class="nc">Serializable</span> <span class="o">{</span>

	<span class="nd">@Id</span>
	<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"id_teacher_social_media"</span><span class="o">)</span>
	<span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span><span class="o">=</span><span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">Long</span> <span class="n">idTeacherSocialMedia</span><span class="o">;</span>
	
	<span class="nd">@Column</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"nickname"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">nickname</span><span class="o">;</span>
	
	<span class="nd">@ManyToOne</span><span class="o">(</span><span class="n">fetch</span><span class="o">=</span><span class="nc">FetchType</span><span class="o">.</span><span class="na">EAGER</span><span class="o">)</span>
	<span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"id_teacher"</span><span class="o">)</span>
	<span class="nd">@JsonIgnore</span>
	<span class="kd">private</span> <span class="nc">Teacher</span> <span class="n">teacher</span><span class="o">;</span>
	
	<span class="nd">@ManyToOne</span><span class="o">(</span><span class="n">fetch</span><span class="o">=</span><span class="nc">FetchType</span><span class="o">.</span><span class="na">EAGER</span><span class="o">)</span>
	<span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"id_social_media"</span><span class="o">)</span>
	<span class="kd">private</span> <span class="nc">SocialMedia</span> <span class="n">socialMedia</span><span class="o">;</span>

<span class="o">}</span>
</code></pre></div></div>

<h2 id="el-acceso-a-datos-con-el-patron-dao-data-access-object">El acceso a datos con el patron DAO (Data Access Object)</h2>

<p>Para crear nuestro DAO creamos una clase abstracta que nos provea de un objeto de tipo Session</p>

<p>online.saidmlx.app.dao.<strong><em>AbstractSession</em></strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">AbstractSession</span> <span class="o">{</span>

	<span class="nd">@Autowired</span>
	<span class="nc">SessionFactory</span> <span class="n">sessionFactory</span><span class="o">;</span>
	
	<span class="kd">protected</span> <span class="nc">Session</span> <span class="nf">getSession</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">sessionFactory</span><span class="o">.</span><span class="na">getCurrentSession</span><span class="o">();</span>	
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p>Ahora para cada uno de los DAO heredamos de la clase <strong><em>AbstractSession</em></strong></p>

<p>Para la generaciÃ³n de un DAO es necesario generar su interfaz y su implementaciÃ³n, donde la implementaciÃ³n hereda de la clase bastracta <strong><em>AbstractSession</em></strong> para aceder al objeto de tipo <strong><em>Session</em></strong> y dentro de cada clase de implementaciÃ³n hacemos uso del modelo definido en un paso anterior</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">CourseDao</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">saveCourse</span><span class="o">(</span><span class="nc">Course</span> <span class="n">course</span><span class="o">);</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">deleteCourseById</span><span class="o">(</span><span class="nc">Long</span> <span class="n">idCourse</span><span class="o">);</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateCourse</span><span class="o">(</span><span class="nc">Course</span> <span class="n">course</span><span class="o">);</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Course</span><span class="o">&gt;</span> <span class="nf">findAllCourse</span><span class="o">();</span>
	<span class="kd">public</span> <span class="nc">Course</span> <span class="nf">findById</span><span class="o">(</span><span class="nc">Long</span> <span class="n">idCourse</span><span class="o">);</span>
	<span class="kd">public</span> <span class="nc">Course</span> <span class="nf">findByName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">);</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Course</span><span class="o">&gt;</span> <span class="nf">findByIdTeacher</span><span class="o">(</span><span class="nc">Long</span> <span class="n">idTeacher</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><strong>@Repository</strong> indicamos que es una clase de tipo repositorio</li>
  <li><strong>@Transactional</strong> con perfil transaccional</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Repository</span>
<span class="nd">@Transactional</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CourseDaoImp</span> <span class="kd">extends</span> <span class="nc">AbstractSession</span> <span class="kd">implements</span> <span class="nc">CourseDao</span> <span class="o">{</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">saveCourse</span><span class="o">(</span><span class="nc">Course</span> <span class="n">course</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">getSession</span><span class="o">().</span><span class="na">persist</span><span class="o">(</span><span class="n">course</span><span class="o">);</span>
	<span class="o">}</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">deleteCourseById</span><span class="o">(</span><span class="nc">Long</span> <span class="n">idCourse</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Course</span> <span class="n">course</span> <span class="o">=</span> <span class="n">findById</span><span class="o">(</span><span class="n">idCourse</span><span class="o">);</span>
		<span class="k">if</span><span class="o">(</span><span class="n">course</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">getSession</span><span class="o">().</span><span class="na">delete</span><span class="o">(</span><span class="n">course</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateCourse</span><span class="o">(</span><span class="nc">Course</span> <span class="n">course</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">getSession</span><span class="o">().</span><span class="na">update</span><span class="o">(</span><span class="n">course</span><span class="o">);</span>
	<span class="o">}</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Course</span><span class="o">&gt;</span> <span class="nf">findAllCourse</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="nf">getSession</span><span class="o">().</span><span class="na">createQuery</span><span class="o">(</span><span class="s">"from Course"</span><span class="o">).</span><span class="na">list</span><span class="o">();</span>
	<span class="o">}</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">Course</span> <span class="nf">findById</span><span class="o">(</span><span class="nc">Long</span> <span class="n">idCourse</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="o">(</span><span class="nc">Course</span><span class="o">)</span><span class="n">getSession</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="nc">Course</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">idCourse</span><span class="o">);</span>
	<span class="o">}</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">Course</span> <span class="nf">findByName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="o">(</span><span class="nc">Course</span><span class="o">)</span><span class="n">getSession</span><span class="o">().</span><span class="na">createQuery</span><span class="o">(</span><span class="s">"from Course where name = :name"</span><span class="o">).</span><span class="na">setParameter</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="n">name</span><span class="o">).</span><span class="na">uniqueResult</span><span class="o">();</span>
	<span class="o">}</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Course</span><span class="o">&gt;</span> <span class="nf">findByIdTeacher</span><span class="o">(</span><span class="nc">Long</span> <span class="n">idTeacher</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Course</span><span class="o">&gt;)</span> <span class="n">getSession</span><span class="o">().</span><span class="na">createQuery</span><span class="o">(</span><span class="s">" from Course c join c.teacher where idteacher = : idTeacher"</span><span class="o">)</span>
				<span class="o">.</span><span class="na">setParameter</span><span class="o">(</span><span class="s">"idTeacher"</span><span class="o">,</span> <span class="n">idTeacher</span><span class="o">).</span><span class="na">list</span><span class="o">();</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="el-servicio">El servicio</h2>

<p>Para cada entidad es necesario agregar un servicio definiendo interfaz e implementaciÃ³n y para cada clase de implementacion hacemos uso del DAO generado. Es por eso que injectamos via <strong><em>@Autowired</em></strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">CourseService</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">saveCourse</span><span class="o">(</span><span class="nc">Course</span> <span class="n">course</span><span class="o">);</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">deleteCourseById</span><span class="o">(</span><span class="nc">Long</span> <span class="n">idCourse</span><span class="o">);</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateCourse</span><span class="o">(</span><span class="nc">Course</span> <span class="n">course</span><span class="o">);</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Course</span><span class="o">&gt;</span> <span class="nf">findAllCourse</span><span class="o">();</span>
	<span class="kd">public</span> <span class="nc">Course</span> <span class="nf">findById</span><span class="o">(</span><span class="nc">Long</span> <span class="n">idCourse</span><span class="o">);</span>
	<span class="kd">public</span> <span class="nc">Course</span> <span class="nf">findByName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">);</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Course</span><span class="o">&gt;</span> <span class="nf">findByIdTeacher</span><span class="o">(</span><span class="nc">Long</span> <span class="n">idTeacher</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Service</span><span class="o">(</span><span class="s">"courseService"</span><span class="o">)</span>
<span class="nd">@Transactional</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CourseServiceImp</span>  <span class="kd">implements</span> <span class="nc">CourseService</span>  <span class="o">{</span>
	<span class="nd">@Autowired</span>
	<span class="nc">CourseDao</span> <span class="n">courseDao</span><span class="o">;</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">saveCourse</span><span class="o">(</span><span class="nc">Course</span> <span class="n">course</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">courseDao</span><span class="o">.</span><span class="na">saveCourse</span><span class="o">(</span><span class="n">course</span><span class="o">);</span>
	<span class="o">}</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">deleteCourseById</span><span class="o">(</span><span class="nc">Long</span> <span class="n">idCourse</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">courseDao</span><span class="o">.</span><span class="na">deleteCourseById</span><span class="o">(</span><span class="n">idCourse</span><span class="o">);</span>	
	<span class="o">}</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">updateCourse</span><span class="o">(</span><span class="nc">Course</span> <span class="n">course</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">courseDao</span><span class="o">.</span><span class="na">updateCourse</span><span class="o">(</span><span class="n">course</span><span class="o">);</span>	
	<span class="o">}</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Course</span><span class="o">&gt;</span> <span class="nf">findAllCourse</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">courseDao</span><span class="o">.</span><span class="na">findAllCourse</span><span class="o">();</span>
	<span class="o">}</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">Course</span> <span class="nf">findById</span><span class="o">(</span><span class="nc">Long</span> <span class="n">idCourse</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">courseDao</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="n">idCourse</span><span class="o">);</span>
	<span class="o">}</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">Course</span> <span class="nf">findByName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">courseDao</span><span class="o">.</span><span class="na">findByName</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
	<span class="o">}</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Course</span><span class="o">&gt;</span> <span class="nf">findByIdTeacher</span><span class="o">(</span><span class="nc">Long</span> <span class="n">idTeacher</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">courseDao</span><span class="o">.</span><span class="na">findByIdTeacher</span><span class="o">(</span><span class="n">idTeacher</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="el-controlador">El controlador</h2>

<p>El controlador es el que expondra nuestro API</p>

<p>Para cada clase de tipo controller tenemos:</p>
<ul>
  <li><strong>@Controller</strong> indicamos que es un controlador</li>
  <li><strong>@RequestMapping(â€œ/v1â€)</strong> con una peticion de entrada llamada <strong>v1</strong></li>
  <li><strong>@Autowired CourseService courseService;</strong> y usamos el servicio Curso</li>
</ul>

<p>e internamente exponemos varias entradas</p>

<ul>
  <li><code class="highlighter-rouge">{[/v1/courses],methods=[GET]}</code>  Obtenemos todos los cursos</li>
  <li><code class="highlighter-rouge">{[/v1/course/{id}],methods=[GET]}</code>  Obtenemos un curso pasando su ID</li>
  <li><code class="highlighter-rouge">{[/v1/course],methods=[POST]}</code>  Guardamos un curso pasando un objeto de tipo Course</li>
  <li><code class="highlighter-rouge">{[/v1/course/{id}],methods=[PATCH]}</code>   Actualizamos un Curso</li>
  <li><code class="highlighter-rouge">{[/v1/course/teacher],methods=[PATCH]}</code>  Asignamos un profesor a un curso</li>
  <li><code class="highlighter-rouge">{[/v1/course/{id}],methods=[DELETE]}</code>  Eliminamos un curso</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nd">@Controller</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/v1"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CourseController</span> <span class="o">{</span>
	<span class="nd">@Autowired</span>
	<span class="nc">CourseService</span> <span class="n">courseService</span><span class="o">;</span> 
	<span class="nd">@Autowired</span>
	<span class="nc">TeacherService</span> <span class="n">teacherService</span><span class="o">;</span>
	<span class="c1">//- courses</span>
	<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"/courses"</span><span class="o">,</span> <span class="n">method</span><span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">,</span> <span class="n">headers</span><span class="o">=</span><span class="s">"Accept= application/json"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Course</span><span class="o">&gt;&gt;</span> <span class="nf">getCourses</span><span class="o">(</span> <span class="o">)</span> <span class="o">{</span>
	<span class="o">}</span>
	<span class="c1">//-- GET course</span>
	<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"/course/{id}"</span><span class="o">,</span> <span class="n">method</span><span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">,</span> <span class="n">headers</span><span class="o">=</span><span class="s">"Accept= application/json"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">Course</span><span class="o">&gt;</span> <span class="nf">getCourse</span><span class="o">(</span><span class="nd">@PathVariable</span><span class="o">(</span><span class="s">"id"</span><span class="o">)</span> <span class="nc">Long</span> <span class="n">idCourse</span> <span class="o">)</span> <span class="o">{</span>
	<span class="o">}</span>
	<span class="c1">//-- POST course</span>
	<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"/course"</span><span class="o">,</span> <span class="n">method</span><span class="o">=</span><span class="nc">RequestMethod</span><span class="o">.</span><span class="na">POST</span><span class="o">,</span> <span class="n">headers</span><span class="o">=</span><span class="s">"Accept= application/json"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">saveCourse</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">Course</span> <span class="n">course</span><span class="o">,</span> <span class="nc">UriComponentsBuilder</span> <span class="n">uri</span><span class="o">)</span> <span class="o">{</span>
	<span class="o">}</span>
	<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"/course/teacher"</span><span class="o">,</span> <span class="n">method</span><span class="o">=</span><span class="nc">RequestMethod</span><span class="o">.</span><span class="na">PATCH</span><span class="o">,</span> <span class="n">headers</span><span class="o">=</span><span class="s">"Accept= application/json"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;?&gt;</span> <span class="n">addTeacher</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">Course</span> <span class="n">course</span><span class="o">)</span> <span class="o">{</span>
	<span class="o">}</span>
	<span class="c1">//-- UPDATE course</span>
	<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"/course/{id}"</span><span class="o">,</span> <span class="n">method</span><span class="o">=</span><span class="nc">RequestMethod</span><span class="o">.</span><span class="na">PATCH</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">Course</span><span class="o">&gt;</span> <span class="nf">updateCourse</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">Course</span> <span class="n">course</span><span class="o">,</span> <span class="nd">@PathVariable</span><span class="o">(</span><span class="s">"id"</span><span class="o">)</span> <span class="nc">Long</span> <span class="n">idCourse</span> <span class="o">)</span> <span class="o">{</span>
	<span class="o">}</span>
	<span class="c1">//-- DELETE course </span>
	<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"/course/{id}"</span><span class="o">,</span> <span class="n">method</span><span class="o">=</span><span class="nc">RequestMethod</span><span class="o">.</span><span class="na">DELETE</span><span class="o">)</span>	
	<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">Course</span><span class="o">&gt;</span> <span class="nf">deleteCourse</span><span class="o">(</span> <span class="nd">@PathVariable</span><span class="o">(</span><span class="s">"id"</span><span class="o">)</span> <span class="nc">Long</span> <span class="n">idCourse</span> <span class="o">)</span> <span class="o">{</span>
	<span class="o">}</span>	
<span class="o">}</span>
</code></pre></div></div>

<p>##Â Probando nuestro API REST</p>

<p>De esta forma con una aplicaciÃ³n <strong><em>REST Cliente</em></strong> podemos ver como funciona en este caso usamo Postman</p>

<p><img src="http://localhost:4000/assets/images/javaSpring/API-REST-Courses.png" alt="" style="width:50%" /></p>

<p>Si quieres ver el codigo de la API pudes descargarla del repositorio <a href="https://github.com/saidmlx/simple-java-hibernate-api-platzi">aqui</a></p>

:ET